{
  "_format": "hh3-sol-build-info-1",
  "id": "solc-0_8_28-7253f0f64ebfd7bdd2421717b0eea855e0e57ca1",
  "solcVersion": "0.8.28",
  "solcLongVersion": "0.8.28+commit.7893614a",
  "userSourceNameMap": {
    "contracts/crownfund.sol": "project/contracts/crownfund.sol"
  },
  "input": {
    "language": "Solidity",
    "settings": {
      "evmVersion": "cancun",
      "outputSelection": {
        "*": {
          "": [
            "ast"
          ],
          "*": [
            "abi",
            "evm.bytecode",
            "evm.deployedBytecode",
            "evm.methodIdentifiers",
            "metadata"
          ]
        }
      },
      "remappings": []
    },
    "sources": {
      "project/contracts/crownfund.sol": {
        "content": "// SPDX-License-Identifier: MIT\npragma solidity 0.8.28;\n\ncontract SimpleCrowdfunding {\n  bool private locked;\n\n  modifier nonReentrant() {\n    require(!locked, \"Reentrancy\");\n    locked = true;\n    _;\n    locked = false;\n  }\n  address public owner;\n  uint256 public goal;\n  uint256 public deadline;\n  uint256 public totalRaised;\n  bool public withdrawn;\n\n  mapping(address => uint256) public contributions; // Tracks each contributor's amount.\n\n  event Contribution(address indexed contributor, uint256 amount);\n  event Withdraw(address indexed owner, uint256 amount);\n  event Refund(address indexed contributor, uint256 amount);\n\n  constructor(uint256 _goal, uint256 _deadline) {\n    require(_goal > 0, \"Goal must be > 0\");\n    require(_deadline > block.timestamp, \"Deadline must be future\");\n    owner = msg.sender;\n    goal = _goal;\n    deadline = _deadline;\n  }\n\n  function contribute() public payable {\n    require(block.timestamp < deadline, \"Funding ended\");\n    require(msg.value > 0, \"Must send ETH\");\n    require(!withdrawn, \"Already withdrawn\");\n    contributions[msg.sender] += msg.value;\n    totalRaised += msg.value;\n    emit Contribution(msg.sender, msg.value);\n  }\n\n  function withdraw() external nonReentrant {\n    require(msg.sender == owner, \"Only owner\");\n    require(totalRaised >= goal, \"Goal not met\");\n    require(!withdrawn, \"Already withdrawn\");\n    withdrawn = true;\n    uint256 amount = address(this).balance;\n    (bool ok, ) = payable(owner).call{value: amount}(\"\");\n    require(ok, \"Withdraw failed\");\n    emit Withdraw(owner, amount);\n  }\n\n  function refund() external nonReentrant {\n    require(block.timestamp >= deadline, \"Too early\");\n    require(totalRaised < goal, \"Goal met\");\n    uint256 amount = contributions[msg.sender];\n    require(amount > 0, \"No contribution\");\n    contributions[msg.sender] = 0;\n    (bool ok, ) = payable(msg.sender).call{value: amount}(\"\");\n    require(ok, \"Refund failed\");\n    emit Refund(msg.sender, amount);\n  }\n\n  receive() external payable {\n    contribute();\n  }\n}\n"
      }
    }
  }
}